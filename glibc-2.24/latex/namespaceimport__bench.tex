\hypertarget{namespaceimport__bench}{}\doxysection{import\+\_\+bench Namespace Reference}
\label{namespaceimport__bench}\index{import\_bench@{import\_bench}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespaceimport__bench_a06eae5444a5b3f9c296059de6d27e1ef}{mean}} (lst)
\item 
def \mbox{\hyperlink{namespaceimport__bench_aa3c76f0db4fb0b53e23decdef7eb7eb4}{split\+\_\+list}} (bench, \mbox{\hyperlink{wcfuncs__l_8c_affb74196253c0e2b053df6f4145f4e79}{func}}, \mbox{\hyperlink{plural-exp_8h_abdcd7d0cd85251843129fb886379a57ca850abfb66c5aa99d4efe8a80af22c23f}{var}})
\item 
def \mbox{\hyperlink{namespaceimport__bench_a1c529f6e0d6f9a0e8a4675bffef07768}{do\+\_\+for\+\_\+all\+\_\+timings}} (bench, callback)
\item 
def \mbox{\hyperlink{namespaceimport__bench_ae10af9ae54ec3f251bb8dd92fe29ff45}{compress\+\_\+timings}} (points)
\item 
def \mbox{\hyperlink{namespaceimport__bench_a670b27a40c37fd1ee8a1df61b908787c}{parse\+\_\+bench}} (filename, schema\+\_\+filename)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespaceimport__bench_ae10af9ae54ec3f251bb8dd92fe29ff45}\label{namespaceimport__bench_ae10af9ae54ec3f251bb8dd92fe29ff45}} 
\index{import\_bench@{import\_bench}!compress\_timings@{compress\_timings}}
\index{compress\_timings@{compress\_timings}!import\_bench@{import\_bench}}
\doxysubsubsection{\texorpdfstring{compress\_timings()}{compress\_timings()}}
{\footnotesize\ttfamily def import\+\_\+bench.\+compress\+\_\+timings (\begin{DoxyParamCaption}\item[{}]{points }\end{DoxyParamCaption})}

\begin{DoxyVerb}Club points with close enough values into a single mean value

See split_list for details on how the clubbing is done.

Args:
    points: The set of points.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceimport__bench_a1c529f6e0d6f9a0e8a4675bffef07768}\label{namespaceimport__bench_a1c529f6e0d6f9a0e8a4675bffef07768}} 
\index{import\_bench@{import\_bench}!do\_for\_all\_timings@{do\_for\_all\_timings}}
\index{do\_for\_all\_timings@{do\_for\_all\_timings}!import\_bench@{import\_bench}}
\doxysubsubsection{\texorpdfstring{do\_for\_all\_timings()}{do\_for\_all\_timings()}}
{\footnotesize\ttfamily def import\+\_\+bench.\+do\+\_\+for\+\_\+all\+\_\+timings (\begin{DoxyParamCaption}\item[{}]{bench,  }\item[{}]{callback }\end{DoxyParamCaption})}

\begin{DoxyVerb}Call a function for all timing objects for each function and its
variants.

Args:
    bench: The benchmark object
    callback: The callback function
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceimport__bench_a06eae5444a5b3f9c296059de6d27e1ef}\label{namespaceimport__bench_a06eae5444a5b3f9c296059de6d27e1ef}} 
\index{import\_bench@{import\_bench}!mean@{mean}}
\index{mean@{mean}!import\_bench@{import\_bench}}
\doxysubsubsection{\texorpdfstring{mean()}{mean()}}
{\footnotesize\ttfamily def import\+\_\+bench.\+mean (\begin{DoxyParamCaption}\item[{}]{lst }\end{DoxyParamCaption})}

\begin{DoxyVerb}Compute and return mean of numbers in a list

The numpy average function has horrible performance, so implement our
own mean function.

Args:
    lst: The list of numbers to average.
Return:
    The mean of members in the list.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceimport__bench_a670b27a40c37fd1ee8a1df61b908787c}\label{namespaceimport__bench_a670b27a40c37fd1ee8a1df61b908787c}} 
\index{import\_bench@{import\_bench}!parse\_bench@{parse\_bench}}
\index{parse\_bench@{parse\_bench}!import\_bench@{import\_bench}}
\doxysubsubsection{\texorpdfstring{parse\_bench()}{parse\_bench()}}
{\footnotesize\ttfamily def import\+\_\+bench.\+parse\+\_\+bench (\begin{DoxyParamCaption}\item[{}]{filename,  }\item[{}]{schema\+\_\+filename }\end{DoxyParamCaption})}

\begin{DoxyVerb}Parse the input file

Parse and validate the json file containing the benchmark outputs.  Return
the resulting object.
Args:
    filename: Name of the benchmark output file.
Return:
    The bench dictionary.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceimport__bench_aa3c76f0db4fb0b53e23decdef7eb7eb4}\label{namespaceimport__bench_aa3c76f0db4fb0b53e23decdef7eb7eb4}} 
\index{import\_bench@{import\_bench}!split\_list@{split\_list}}
\index{split\_list@{split\_list}!import\_bench@{import\_bench}}
\doxysubsubsection{\texorpdfstring{split\_list()}{split\_list()}}
{\footnotesize\ttfamily def import\+\_\+bench.\+split\+\_\+list (\begin{DoxyParamCaption}\item[{}]{bench,  }\item[{}]{func,  }\item[{}]{var }\end{DoxyParamCaption})}

\begin{DoxyVerb}Split the list into a smaller set of more distinct points

Group together points such that the difference between the smallest
point and the mean is less than 1/3rd of the mean.  This means that
the mean is at most 1.5x the smallest member of that group.

mean - xmin < mean / 3
i.e. 2 * mean / 3 < xmin
i.e. mean < 3 * xmin / 2

For an evenly distributed group, the largest member will be less than
twice the smallest member of the group.
Derivation:

An evenly distributed series would be xmin, xmin + d, xmin + 2d...

mean = (2 * n * xmin + n * (n - 1) * d) / 2 * n
and max element is xmin + (n - 1) * d

Now, mean < 3 * xmin / 2

3 * xmin > 2 * mean
3 * xmin > (2 * n * xmin + n * (n - 1) * d) / n
3 * n * xmin > 2 * n * xmin + n * (n - 1) * d
n * xmin > n * (n - 1) * d
xmin > (n - 1) * d
2 * xmin > xmin + (n-1) * d
2 * xmin > xmax

Hence, proved.

Similarly, it is trivial to prove that for a similar aggregation by using
the maximum element, the maximum element in the group must be at most 4/3
times the mean.

Args:
    bench: The benchmark object
    func: The function name
    var: The function variant name
\end{DoxyVerb}
 