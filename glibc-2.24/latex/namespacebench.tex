\hypertarget{namespacebench}{}\doxysection{bench Namespace Reference}
\label{namespacebench}\index{bench@{bench}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacebench_ae668f7fabe948500c81215c828650c75}{gen\+\_\+source}} (\mbox{\hyperlink{wcfuncs__l_8c_affb74196253c0e2b053df6f4145f4e79}{func}}, directives, all\+\_\+vals)
\item 
def \mbox{\hyperlink{namespacebench_aad8583af632a826746ad5332592e035b}{parse\+\_\+file}} (\mbox{\hyperlink{wcfuncs__l_8c_affb74196253c0e2b053df6f4145f4e79}{func}})
\item 
def \mbox{\hyperlink{namespacebench_a9b13897fb8bb23aeaec77a2fc7dca38f}{die}} (msg)
\item 
def \mbox{\hyperlink{namespacebench_ac7f41abdd54822dc257735956aaf656a}{main}} (args)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{tst-strxfrm_8c_a2ae17f9e290d69d3fd0056962778ec4c}{string}} \mbox{\hyperlink{namespacebench_aa5615183969d4017ee7af8ac6f773e50}{D\+E\+F\+I\+N\+E\+S\+\_\+\+T\+E\+M\+P\+L\+A\+TE}}
\item 
\mbox{\hyperlink{tst-strxfrm_8c_a2ae17f9e290d69d3fd0056962778ec4c}{string}} \mbox{\hyperlink{namespacebench_ab485157bf6f286c588b39012f868fcc8}{S\+T\+R\+U\+C\+T\+\_\+\+T\+E\+M\+P\+L\+A\+TE}}
\item 
\mbox{\hyperlink{tst-strxfrm_8c_a2ae17f9e290d69d3fd0056962778ec4c}{string}} \mbox{\hyperlink{namespacebench_a631a4097a6bc7be4ed993c2e0e4176ce}{A\+R\+G\+S\+\_\+\+T\+E\+M\+P\+L\+A\+TE}}
\item 
\mbox{\hyperlink{tst-strxfrm_8c_a2ae17f9e290d69d3fd0056962778ec4c}{string}} \mbox{\hyperlink{namespacebench_aebddaf228258c15aaf270adb510abafd}{V\+A\+R\+I\+A\+N\+T\+S\+\_\+\+T\+E\+M\+P\+L\+A\+TE}}
\item 
\mbox{\hyperlink{tst-strxfrm_8c_a2ae17f9e290d69d3fd0056962778ec4c}{string}} \mbox{\hyperlink{namespacebench_a5915b7c56139f1320c111d2b0e17bf57}{E\+P\+I\+L\+O\+G\+UE}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacebench_a9b13897fb8bb23aeaec77a2fc7dca38f}\label{namespacebench_a9b13897fb8bb23aeaec77a2fc7dca38f}} 
\index{bench@{bench}!die@{die}}
\index{die@{die}!bench@{bench}}
\doxysubsubsection{\texorpdfstring{die()}{die()}}
{\footnotesize\ttfamily def bench.\+die (\begin{DoxyParamCaption}\item[{}]{msg }\end{DoxyParamCaption})}

\begin{DoxyVerb}Exit with an error

Prints an error message to the standard error stream and exits with
a non-zero status.

Args:
  msg: The error message to print to standard error
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacebench_ae668f7fabe948500c81215c828650c75}\label{namespacebench_ae668f7fabe948500c81215c828650c75}} 
\index{bench@{bench}!gen\_source@{gen\_source}}
\index{gen\_source@{gen\_source}!bench@{bench}}
\doxysubsubsection{\texorpdfstring{gen\_source()}{gen\_source()}}
{\footnotesize\ttfamily def bench.\+gen\+\_\+source (\begin{DoxyParamCaption}\item[{}]{func,  }\item[{}]{directives,  }\item[{}]{all\+\_\+vals }\end{DoxyParamCaption})}

\begin{DoxyVerb}Generate source for the function

Generate the C source for the function from the values and
directives.

Args:
  func: The function name
  directives: A dictionary of directives applicable to this function
  all_vals: A dictionary input values
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacebench_ac7f41abdd54822dc257735956aaf656a}\label{namespacebench_ac7f41abdd54822dc257735956aaf656a}} 
\index{bench@{bench}!main@{main}}
\index{main@{main}!bench@{bench}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily def bench.\+main (\begin{DoxyParamCaption}\item[{}]{args }\end{DoxyParamCaption})}

\begin{DoxyVerb}Main function

Use the first command line argument as function name and parse its
input file to generate C source that calls the function repeatedly
for the input.

Args:
  args: The command line arguments with the program name dropped

Returns:
  os.EX_USAGE on error and os.EX_OK on success.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacebench_aad8583af632a826746ad5332592e035b}\label{namespacebench_aad8583af632a826746ad5332592e035b}} 
\index{bench@{bench}!parse\_file@{parse\_file}}
\index{parse\_file@{parse\_file}!bench@{bench}}
\doxysubsubsection{\texorpdfstring{parse\_file()}{parse\_file()}}
{\footnotesize\ttfamily def bench.\+parse\+\_\+file (\begin{DoxyParamCaption}\item[{}]{func }\end{DoxyParamCaption})}

\begin{DoxyVerb}Parse an input file

Given a function name, open and parse an input file for the function
and get the necessary parameters for the generated code and the list
of inputs.

Args:
  func: The function name

Returns:
  A tuple of two elements, one a dictionary of directives and the
  other a dictionary of all input values.
\end{DoxyVerb}
 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacebench_a631a4097a6bc7be4ed993c2e0e4176ce}\label{namespacebench_a631a4097a6bc7be4ed993c2e0e4176ce}} 
\index{bench@{bench}!ARGS\_TEMPLATE@{ARGS\_TEMPLATE}}
\index{ARGS\_TEMPLATE@{ARGS\_TEMPLATE}!bench@{bench}}
\doxysubsubsection{\texorpdfstring{ARGS\_TEMPLATE}{ARGS\_TEMPLATE}}
{\footnotesize\ttfamily \mbox{\hyperlink{tst-strxfrm_8c_a2ae17f9e290d69d3fd0056962778ec4c}{string}} bench.\+A\+R\+G\+S\+\_\+\+T\+E\+M\+P\+L\+A\+TE}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 =  \textcolor{stringliteral}{'''}}
\DoxyCodeLine{2 \textcolor{stringliteral}{struct args in\%(argnum)d[\%(num\_args)d] = \{}}
\DoxyCodeLine{3 \textcolor{stringliteral}{\%(args)s}}
\DoxyCodeLine{4 \textcolor{stringliteral}{\};}}
\DoxyCodeLine{5 \textcolor{stringliteral}{'''}}

\end{DoxyCode}
\mbox{\Hypertarget{namespacebench_aa5615183969d4017ee7af8ac6f773e50}\label{namespacebench_aa5615183969d4017ee7af8ac6f773e50}} 
\index{bench@{bench}!DEFINES\_TEMPLATE@{DEFINES\_TEMPLATE}}
\index{DEFINES\_TEMPLATE@{DEFINES\_TEMPLATE}!bench@{bench}}
\doxysubsubsection{\texorpdfstring{DEFINES\_TEMPLATE}{DEFINES\_TEMPLATE}}
{\footnotesize\ttfamily \mbox{\hyperlink{tst-strxfrm_8c_a2ae17f9e290d69d3fd0056962778ec4c}{string}} bench.\+D\+E\+F\+I\+N\+E\+S\+\_\+\+T\+E\+M\+P\+L\+A\+TE}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 =  \textcolor{stringliteral}{'''}}
\DoxyCodeLine{2 \textcolor{stringliteral}{\#define CALL\_BENCH\_FUNC(v, i) \%(func)s ()}}
\DoxyCodeLine{3 \textcolor{stringliteral}{\#define NUM\_VARIANTS (1)}}
\DoxyCodeLine{4 \textcolor{stringliteral}{\#define NUM\_SAMPLES(v) (1)}}
\DoxyCodeLine{5 \textcolor{stringliteral}{\#define VARIANT(v) FUNCNAME "()"}}
\DoxyCodeLine{6 \textcolor{stringliteral}{'''}}

\end{DoxyCode}
\mbox{\Hypertarget{namespacebench_a5915b7c56139f1320c111d2b0e17bf57}\label{namespacebench_a5915b7c56139f1320c111d2b0e17bf57}} 
\index{bench@{bench}!EPILOGUE@{EPILOGUE}}
\index{EPILOGUE@{EPILOGUE}!bench@{bench}}
\doxysubsubsection{\texorpdfstring{EPILOGUE}{EPILOGUE}}
{\footnotesize\ttfamily \mbox{\hyperlink{tst-strxfrm_8c_a2ae17f9e290d69d3fd0056962778ec4c}{string}} bench.\+E\+P\+I\+L\+O\+G\+UE}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 =  \textcolor{stringliteral}{'''}}
\DoxyCodeLine{2 \textcolor{stringliteral}{\#define RESULT(\_\_v, \_\_i) (variants[(\_\_v)].in[(\_\_i)].timing)}}
\DoxyCodeLine{3 \textcolor{stringliteral}{\#define RESULT\_ACCUM(r, v, i, old, new) \(\backslash\)\(\backslash\)}}
\DoxyCodeLine{4 \textcolor{stringliteral}{        ((RESULT ((v), (i))) = (RESULT ((v), (i)) * (old) + (r)) / ((new) + 1))}}
\DoxyCodeLine{5 \textcolor{stringliteral}{\#define BENCH\_FUNC(i, j) (\{\%(getret)s CALL\_BENCH\_FUNC (i, j);\})}}
\DoxyCodeLine{6 \textcolor{stringliteral}{\#define FUNCNAME "\%(func)s"}}
\DoxyCodeLine{7 \textcolor{stringliteral}{\#include "bench-\/skeleton.c"'''}}

\end{DoxyCode}
\mbox{\Hypertarget{namespacebench_ab485157bf6f286c588b39012f868fcc8}\label{namespacebench_ab485157bf6f286c588b39012f868fcc8}} 
\index{bench@{bench}!STRUCT\_TEMPLATE@{STRUCT\_TEMPLATE}}
\index{STRUCT\_TEMPLATE@{STRUCT\_TEMPLATE}!bench@{bench}}
\doxysubsubsection{\texorpdfstring{STRUCT\_TEMPLATE}{STRUCT\_TEMPLATE}}
{\footnotesize\ttfamily \mbox{\hyperlink{tst-strxfrm_8c_a2ae17f9e290d69d3fd0056962778ec4c}{string}} bench.\+S\+T\+R\+U\+C\+T\+\_\+\+T\+E\+M\+P\+L\+A\+TE}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 =  \textcolor{stringliteral}{'''}}
\DoxyCodeLine{2 \textcolor{stringliteral}{\#define CALL\_BENCH\_FUNC(v, i) \%(func)s (\%(func\_args)s)}}
\DoxyCodeLine{3 \textcolor{stringliteral}{}}
\DoxyCodeLine{4 \textcolor{stringliteral}{struct args}}
\DoxyCodeLine{5 \textcolor{stringliteral}{\{}}
\DoxyCodeLine{6 \textcolor{stringliteral}{\%(args)s}}
\DoxyCodeLine{7 \textcolor{stringliteral}{  double timing;}}
\DoxyCodeLine{8 \textcolor{stringliteral}{\};}}
\DoxyCodeLine{9 \textcolor{stringliteral}{}}
\DoxyCodeLine{10 \textcolor{stringliteral}{struct \_variants}}
\DoxyCodeLine{11 \textcolor{stringliteral}{\{}}
\DoxyCodeLine{12 \textcolor{stringliteral}{  const char *name;}}
\DoxyCodeLine{13 \textcolor{stringliteral}{  int count;}}
\DoxyCodeLine{14 \textcolor{stringliteral}{  struct args *in;}}
\DoxyCodeLine{15 \textcolor{stringliteral}{\};}}
\DoxyCodeLine{16 \textcolor{stringliteral}{'''}}

\end{DoxyCode}
\mbox{\Hypertarget{namespacebench_aebddaf228258c15aaf270adb510abafd}\label{namespacebench_aebddaf228258c15aaf270adb510abafd}} 
\index{bench@{bench}!VARIANTS\_TEMPLATE@{VARIANTS\_TEMPLATE}}
\index{VARIANTS\_TEMPLATE@{VARIANTS\_TEMPLATE}!bench@{bench}}
\doxysubsubsection{\texorpdfstring{VARIANTS\_TEMPLATE}{VARIANTS\_TEMPLATE}}
{\footnotesize\ttfamily \mbox{\hyperlink{tst-strxfrm_8c_a2ae17f9e290d69d3fd0056962778ec4c}{string}} bench.\+V\+A\+R\+I\+A\+N\+T\+S\+\_\+\+T\+E\+M\+P\+L\+A\+TE}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 =  \textcolor{stringliteral}{'''}}
\DoxyCodeLine{2 \textcolor{stringliteral}{struct \_variants variants[\%(num\_variants)d] = \{}}
\DoxyCodeLine{3 \textcolor{stringliteral}{\%(variants)s}}
\DoxyCodeLine{4 \textcolor{stringliteral}{\};}}
\DoxyCodeLine{5 \textcolor{stringliteral}{}}
\DoxyCodeLine{6 \textcolor{stringliteral}{\#define NUM\_VARIANTS \%(num\_variants)d}}
\DoxyCodeLine{7 \textcolor{stringliteral}{\#define NUM\_SAMPLES(i) (variants[i].count)}}
\DoxyCodeLine{8 \textcolor{stringliteral}{\#define VARIANT(i) (variants[i].name)}}
\DoxyCodeLine{9 \textcolor{stringliteral}{'''}}

\end{DoxyCode}
