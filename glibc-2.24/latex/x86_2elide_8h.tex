\hypertarget{x86_2elide_8h}{}\doxysection{sysdeps/x86/elide.h File Reference}
\label{x86_2elide_8h}\index{sysdeps/x86/elide.h@{sysdeps/x86/elide.h}}
{\ttfamily \#include $<$hle.\+h$>$}\newline
{\ttfamily \#include $<$elision-\/conf.\+h$>$}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{x86_2elide_8h_a17941fdfe190c9268d99642ae9b101ca}{A\+C\+C\+E\+S\+S\+\_\+\+O\+N\+CE}}(\mbox{\hyperlink{test-float-libmvec-sincosf-main_8c_a730933e849731648c69ca0f5bfd3f996}{x}})~($\ast$ (volatile \mbox{\hyperlink{sysdeps_2tile_2tilegx_2strstr_8c_a53b5376d0390d24de2ac980214a739a1}{typeof}}(\mbox{\hyperlink{test-float-libmvec-sincosf-main_8c_a730933e849731648c69ca0f5bfd3f996}{x}}) $\ast$) \&(\mbox{\hyperlink{test-float-libmvec-sincosf-main_8c_a730933e849731648c69ca0f5bfd3f996}{x}}))
\item 
\#define \mbox{\hyperlink{x86_2elide_8h_a08da09811ce018a469ba2e624dc94e84}{E\+L\+I\+D\+E\+\_\+\+L\+O\+CK}}(adapt\+\_\+count,  is\+\_\+lock\+\_\+free)
\item 
\#define \mbox{\hyperlink{x86_2elide_8h_ac049a296d8a0ac86c45cf09cf4c3452e}{E\+L\+I\+D\+E\+\_\+\+T\+R\+Y\+L\+O\+CK}}(adapt\+\_\+count,  is\+\_\+lock\+\_\+free,  \mbox{\hyperlink{posix_2unistd_8h_a7e6f9940238655d46a337b48b9212efe}{write}})
\item 
\#define \mbox{\hyperlink{x86_2elide_8h_ab9c5636cb68a5c700075050cf5a8130c}{E\+L\+I\+D\+E\+\_\+\+U\+N\+L\+O\+CK}}(is\+\_\+lock\+\_\+free)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{x86_2elide_8h_a17941fdfe190c9268d99642ae9b101ca}\label{x86_2elide_8h_a17941fdfe190c9268d99642ae9b101ca}} 
\index{elide.h@{elide.h}!ACCESS\_ONCE@{ACCESS\_ONCE}}
\index{ACCESS\_ONCE@{ACCESS\_ONCE}!elide.h@{elide.h}}
\doxysubsubsection{\texorpdfstring{ACCESS\_ONCE}{ACCESS\_ONCE}}
{\footnotesize\ttfamily \#define A\+C\+C\+E\+S\+S\+\_\+\+O\+N\+CE(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{test-float-libmvec-sincosf-main_8c_a730933e849731648c69ca0f5bfd3f996}{x}} }\end{DoxyParamCaption})~($\ast$ (volatile \mbox{\hyperlink{sysdeps_2tile_2tilegx_2strstr_8c_a53b5376d0390d24de2ac980214a739a1}{typeof}}(\mbox{\hyperlink{test-float-libmvec-sincosf-main_8c_a730933e849731648c69ca0f5bfd3f996}{x}}) $\ast$) \&(\mbox{\hyperlink{test-float-libmvec-sincosf-main_8c_a730933e849731648c69ca0f5bfd3f996}{x}}))}

\mbox{\Hypertarget{x86_2elide_8h_a08da09811ce018a469ba2e624dc94e84}\label{x86_2elide_8h_a08da09811ce018a469ba2e624dc94e84}} 
\index{elide.h@{elide.h}!ELIDE\_LOCK@{ELIDE\_LOCK}}
\index{ELIDE\_LOCK@{ELIDE\_LOCK}!elide.h@{elide.h}}
\doxysubsubsection{\texorpdfstring{ELIDE\_LOCK}{ELIDE\_LOCK}}
{\footnotesize\ttfamily \#define E\+L\+I\+D\+E\+\_\+\+L\+O\+CK(\begin{DoxyParamCaption}\item[{}]{adapt\+\_\+count,  }\item[{}]{is\+\_\+lock\+\_\+free }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(\{                              \(\backslash\)}
\DoxyCodeLine{    int \mbox{\hyperlink{tst-backtrace_8h_aceabdac0a64ca29f4c9fb831d0c3a49b}{ret}} = 0;                     \mbox{\hyperlink{do-rel_8h_a52dc1e52313bafbcfe7c44c90b63125d}{\(\backslash\)}}}
\DoxyCodeLine{\mbox{\hyperlink{do-rel_8h_a52dc1e52313bafbcfe7c44c90b63125d}{                                \(\backslash\)}}}
\DoxyCodeLine{\mbox{\hyperlink{do-rel_8h_a52dc1e52313bafbcfe7c44c90b63125d}{    if}} ((adapt\_count) <= 0)                   \(\backslash\)}
\DoxyCodeLine{      \{                             \(\backslash\)}
\DoxyCodeLine{        for (\textcolor{keywordtype}{int} \mbox{\hyperlink{tst-tls14_8c_acb559820d9ca11295b4500f179ef6392}{i}} = \mbox{\hyperlink{powerpc_2elision-conf_8c_ae0f5e5eea82ad68a122b534c645003d8}{\_\_elision\_aconf}}.\mbox{\hyperlink{structelision__config_ae34acd0637f75669191bdaf22d11e347}{retry\_try\_xbegin}}; \mbox{\hyperlink{tst-tls14_8c_acb559820d9ca11295b4500f179ef6392}{i}} > 0; \mbox{\hyperlink{tst-tls14_8c_acb559820d9ca11295b4500f179ef6392}{i}}-\/-\/) \(\backslash\)}
\DoxyCodeLine{          \{                         \(\backslash\)}
\DoxyCodeLine{            unsigned \textcolor{keywordtype}{int} \mbox{\hyperlink{nss_2nsswitch_8h_a21fd5ece2dac024d267070d9eabf87d2}{status}};              \(\backslash\)}
\DoxyCodeLine{        if ((\mbox{\hyperlink{nss_2nsswitch_8h_a21fd5ece2dac024d267070d9eabf87d2}{status}} = \_xbegin ()) == \mbox{\hyperlink{hle_8h_affa290b6e944d914d80dfc2e469fd14c}{\_XBEGIN\_STARTED}})  \(\backslash\)}
\DoxyCodeLine{          \{                         \(\backslash\)}
\DoxyCodeLine{            if (is\_lock\_free)               \(\backslash\)}
\DoxyCodeLine{              \{                     \(\backslash\)}
\DoxyCodeLine{            ret = 1;                    \(\backslash\)}
\DoxyCodeLine{            break;                  \(\backslash\)}
\DoxyCodeLine{              \}                     \(\backslash\)}
\DoxyCodeLine{            \_xabort (\mbox{\hyperlink{htm_8h_aeed1480577c8e05d81bb578507f66925}{\_ABORT\_LOCK\_BUSY}});         \(\backslash\)}
\DoxyCodeLine{          \}                         \(\backslash\)}
\DoxyCodeLine{        if (!elision\_adapt (\&(adapt\_count), \mbox{\hyperlink{nss_2nsswitch_8h_a21fd5ece2dac024d267070d9eabf87d2}{status}}))  \(\backslash\)}
\DoxyCodeLine{          break;                        \(\backslash\)}
\DoxyCodeLine{          \}                         \(\backslash\)}
\DoxyCodeLine{      \}                             \(\backslash\)}
\DoxyCodeLine{    else                            \(\backslash\)}
\DoxyCodeLine{      (adapt\_count)-\/-\/; \textcolor{comment}{/* missing updates ok */}         \(\backslash\)}
\DoxyCodeLine{    ret;                            \(\backslash\)}
\DoxyCodeLine{  \})}

\end{DoxyCode}
\mbox{\Hypertarget{x86_2elide_8h_ac049a296d8a0ac86c45cf09cf4c3452e}\label{x86_2elide_8h_ac049a296d8a0ac86c45cf09cf4c3452e}} 
\index{elide.h@{elide.h}!ELIDE\_TRYLOCK@{ELIDE\_TRYLOCK}}
\index{ELIDE\_TRYLOCK@{ELIDE\_TRYLOCK}!elide.h@{elide.h}}
\doxysubsubsection{\texorpdfstring{ELIDE\_TRYLOCK}{ELIDE\_TRYLOCK}}
{\footnotesize\ttfamily \#define E\+L\+I\+D\+E\+\_\+\+T\+R\+Y\+L\+O\+CK(\begin{DoxyParamCaption}\item[{}]{adapt\+\_\+count,  }\item[{}]{is\+\_\+lock\+\_\+free,  }\item[{}]{\mbox{\hyperlink{posix_2unistd_8h_a7e6f9940238655d46a337b48b9212efe}{write}} }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(\{  \(\backslash\)}
\DoxyCodeLine{  int \mbox{\hyperlink{tst-backtrace_8h_aceabdac0a64ca29f4c9fb831d0c3a49b}{ret}} = 0;                       \(\backslash\)}
\DoxyCodeLine{  if (\mbox{\hyperlink{powerpc_2elision-conf_8c_ae0f5e5eea82ad68a122b534c645003d8}{\_\_elision\_aconf}}.\mbox{\hyperlink{structelision__config_ae34acd0637f75669191bdaf22d11e347}{retry\_try\_xbegin}} > 0)      \(\backslash\)}
\DoxyCodeLine{    \{                           \(\backslash\)}
\DoxyCodeLine{      if (\mbox{\hyperlink{posix_2unistd_8h_a7e6f9940238655d46a337b48b9212efe}{write}})                   \(\backslash\)}
\DoxyCodeLine{        \_xabort (\mbox{\hyperlink{htm_8h_a775b6078a68b528a01604bf681583626}{\_ABORT\_NESTED\_TRYLOCK}});       \(\backslash\)}
\DoxyCodeLine{      ret = \mbox{\hyperlink{x86_2elide_8h_a08da09811ce018a469ba2e624dc94e84}{ELIDE\_LOCK}} (adapt\_count, is\_lock\_free);     \(\backslash\)}
\DoxyCodeLine{    \}                           \(\backslash\)}
\DoxyCodeLine{    ret;                        \(\backslash\)}
\DoxyCodeLine{    \})}

\end{DoxyCode}
\mbox{\Hypertarget{x86_2elide_8h_ab9c5636cb68a5c700075050cf5a8130c}\label{x86_2elide_8h_ab9c5636cb68a5c700075050cf5a8130c}} 
\index{elide.h@{elide.h}!ELIDE\_UNLOCK@{ELIDE\_UNLOCK}}
\index{ELIDE\_UNLOCK@{ELIDE\_UNLOCK}!elide.h@{elide.h}}
\doxysubsubsection{\texorpdfstring{ELIDE\_UNLOCK}{ELIDE\_UNLOCK}}
{\footnotesize\ttfamily \#define E\+L\+I\+D\+E\+\_\+\+U\+N\+L\+O\+CK(\begin{DoxyParamCaption}\item[{}]{is\+\_\+lock\+\_\+free }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(\{                      \(\backslash\)}
\DoxyCodeLine{  int \mbox{\hyperlink{tst-backtrace_8h_aceabdac0a64ca29f4c9fb831d0c3a49b}{ret}} = 0;                   \(\backslash\)}
\DoxyCodeLine{  if (is\_lock\_free)             \(\backslash\)}
\DoxyCodeLine{    \{                       \(\backslash\)}
\DoxyCodeLine{      \_xend ();                 \(\backslash\)}
\DoxyCodeLine{      ret = 1;                  \(\backslash\)}
\DoxyCodeLine{    \}                       \(\backslash\)}
\DoxyCodeLine{  ret;                      \(\backslash\)}
\DoxyCodeLine{  \})}

\end{DoxyCode}
